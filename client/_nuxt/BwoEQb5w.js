import{_ as m,o as t,c as a,a as n,n as d,F as c,q as b,s as g,u as v,b as S}from"./BL6o7gmO.js";const _={name:"GameLayout",data(){return{bricks:[],numRows:20,numCols:9,paddlePosition:180,ballX:195,ballY:400,ballSpeedX:(Math.random()<.5?1:-1)*(Math.random()+.5),ballSpeedY:.75,canvasWidth:400,canvasHeight:600,ballSize:8,paddleWidth:31.81,paddleHeight:7.1,gamePaused:!1,brickWidth:31.82,brickHeight:7.09,bricksToRemove:new Set}},mounted(){this.generateBricks(),this.gameLoop()},beforeDestroy(){},methods:{resetBricks(){this.bricks=[],this.paddlePosition=180,this.ballX=195,this.ballY=400,this.ballSpeedX=(Math.random()<.5?1:-1)*(Math.random()+.5),this.ballSpeedY=.75,this.generateBricks()},removeBricks(){this.bricksToRemove.forEach(i=>{const[e,s]=i.split(",").map(Number);this.bricks[e][s]=!1}),this.bricksToRemove.clear()},checkBrickCollisions(){for(let i=0;i<this.numRows;i++)for(let e=0;e<this.numCols;e++)if(this.bricks[i][e]){const s=e*this.brickWidth+e*5+this.brickWidth,o=i*this.brickHeight+i*5;this.ballX+this.ballSize>=s&&this.ballX<=s+this.brickWidth&&this.ballY+this.ballSize>=o&&this.ballY<=o+this.brickHeight&&(this.bricksToRemove.add(`${i},${e}`),this.ballSpeedY*=-1)}},checkPaddleCollision(){this.ballX+this.ballSize>=this.paddlePosition&&this.ballX<=this.paddlePosition+this.paddleWidth&&this.ballY+this.ballSize>=this.canvasHeight-this.paddleHeight-24&&(this.ballSpeedY*=-1)},checkCanvasEdgeCollision(){(this.ballX<=0||this.ballX+this.ballSize>=this.canvasWidth)&&(this.ballSpeedX*=-1),this.ballY<=0&&(this.ballSpeedY*=-1),this.ballY+this.ballSize>=this.canvasHeight&&this.resetBricks()},generateBricks(){for(let i=0;i<this.numRows;i++){const e=[];for(let s=0;s<this.numCols;s++)i===0?e.push(!1):e.push(Math.random()<.5);this.bricks.push(e)}},gameLoop(){this.gamePaused||(this.ballX+=this.ballSpeedX,this.ballY+=this.ballSpeedY,this.checkCanvasEdgeCollision(),this.checkPaddleCollision(),this.checkBrickCollisions(),this.removeBricks(),this.ballY+this.ballSize>=this.canvasHeight&&(this.gamePaused=!0),this.ballX=Math.max(0,Math.min(this.canvasWidth-this.ballSize,this.ballX)),this.ballY=Math.max(0,Math.min(this.canvasHeight-this.ballSize,this.ballY))),requestAnimationFrame(this.gameLoop)},handleKeyDown(i){i.key===" "?this.gamePaused=!this.gamePaused:i.key==="ArrowLeft"&&this.paddlePosition>0?this.paddlePosition-=10:i.key==="ArrowRight"&&this.paddlePosition<370?this.paddlePosition+=10:i.key==="r"&&this.resetBricks()}}};function Y(i,e,s,o,l,r){return t(),a("div",{id:"game-canvas",tabindex:"0",onKeydown:e[0]||(e[0]=g((...h)=>r.handleKeyDown&&r.handleKeyDown(...h),["prevent"]))},[n("div",{id:"paddle",style:d({transform:"translateX("+l.paddlePosition+"px)"})},null,4),n("div",{id:"ball",style:d({transform:"translate("+l.ballX+"px, "+l.ballY+"px)"})},null,4),(t(!0),a(c,null,b(l.bricks,(h,k)=>(t(),a("div",{key:k,class:"brick-row"},[(t(!0),a(c,null,b(h,(u,f)=>(t(),a("div",{key:f,class:v({brick:!0,"brick-hidden":!u})},null,2))),128))]))),128))],32)}const p=m(_,[["render",Y],["__scopeId","data-v-c38e1aef"]]),y={name:"game-page",components:{GameLayout:p}};function X(i,e,s,o,l,r){const h=p;return t(),a("div",null,[S(h)])}const w=m(y,[["render",X]]);export{w as default};
