import{_ as u,o as t,c as l,a as n,n as d,F as c,q as b,s as f,u as g}from"./BW0PMtS9.js";const S={name:"GameLayout",data(){return{bricks:[],numRows:20,numCols:9,paddlePosition:180,ballX:195,ballY:400,ballSpeedX:(Math.random()<.5?1:-1)*(Math.random()+.5),ballSpeedY:.75,canvasWidth:400,canvasHeight:600,ballSize:8,paddleWidth:31.81,paddleHeight:7.1,gamePaused:!1,brickWidth:31.82,brickHeight:7.09,bricksToRemove:new Set}},mounted(){this.generateBricks(),this.gameLoop()},beforeDestroy(){},methods:{resetBricks(){this.bricks=[],this.paddlePosition=180,this.ballX=195,this.ballY=400,this.ballSpeedX=(Math.random()<.5?1:-1)*(Math.random()+.5),this.ballSpeedY=.75,this.generateBricks()},removeBricks(){this.bricksToRemove.forEach(i=>{const[s,e]=i.split(",").map(Number);this.bricks[s][e]=!1}),this.bricksToRemove.clear()},checkBrickCollisions(){for(let i=0;i<this.numRows;i++)for(let s=0;s<this.numCols;s++)if(this.bricks[i][s]){const e=s*this.brickWidth+s*5+this.brickWidth,h=i*this.brickHeight+i*5;this.ballX+this.ballSize>=e&&this.ballX<=e+this.brickWidth&&this.ballY+this.ballSize>=h&&this.ballY<=h+this.brickHeight&&(this.bricksToRemove.add(`${i},${s}`),this.ballSpeedY*=-1)}},checkPaddleCollision(){this.ballX+this.ballSize>=this.paddlePosition&&this.ballX<=this.paddlePosition+this.paddleWidth&&this.ballY+this.ballSize>=this.canvasHeight-this.paddleHeight-24&&(this.ballSpeedY*=-1)},checkCanvasEdgeCollision(){(this.ballX<=0||this.ballX+this.ballSize>=this.canvasWidth)&&(this.ballSpeedX*=-1),this.ballY<=0&&(this.ballSpeedY*=-1),this.ballY+this.ballSize>=this.canvasHeight&&this.resetBricks()},generateBricks(){for(let i=0;i<this.numRows;i++){const s=[];for(let e=0;e<this.numCols;e++)i===0?s.push(!1):s.push(Math.random()<.5);this.bricks.push(s)}},gameLoop(){this.gamePaused||(this.ballX+=this.ballSpeedX,this.ballY+=this.ballSpeedY,this.checkCanvasEdgeCollision(),this.checkPaddleCollision(),this.checkBrickCollisions(),this.removeBricks(),this.ballY+this.ballSize>=this.canvasHeight&&(this.gamePaused=!0),this.ballX=Math.max(0,Math.min(this.canvasWidth-this.ballSize,this.ballX)),this.ballY=Math.max(0,Math.min(this.canvasHeight-this.ballSize,this.ballY))),requestAnimationFrame(this.gameLoop)},handleKeyDown(i){i.key===" "?this.gamePaused=!this.gamePaused:i.key==="ArrowLeft"&&this.paddlePosition>0?this.paddlePosition-=10:i.key==="ArrowRight"&&this.paddlePosition<370?this.paddlePosition+=10:i.key==="r"&&this.resetBricks()}}};function v(i,s,e,h,a,r){return t(),l("div",{id:"game-canvas",tabindex:"0",onKeydown:s[0]||(s[0]=f((...o)=>r.handleKeyDown&&r.handleKeyDown(...o),["prevent"]))},[n("div",{id:"paddle",style:d({transform:"translateX("+a.paddlePosition+"px)"})},null,4),n("div",{id:"ball",style:d({transform:"translate("+a.ballX+"px, "+a.ballY+"px)"})},null,4),(t(!0),l(c,null,b(a.bricks,(o,m)=>(t(),l("div",{key:m,class:"brick-row"},[(t(!0),l(c,null,b(o,(k,p)=>(t(),l("div",{key:p,class:g({brick:!0,"brick-hidden":!k})},null,2))),128))]))),128))],32)}const X=u(S,[["render",v],["__scopeId","data-v-c38e1aef"]]);export{X as _};
